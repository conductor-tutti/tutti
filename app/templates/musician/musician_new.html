{% extends "layout.html" %}
{% block customhead %}

<style type="text/css">

/* default colors */
/* creamy brown: #BB8F76 */
/* deep creamy brown: #AF866F */

.main {
    background-color: white;
    padding: 40px;
    border-radius: 20px;
}

h3, .h3{
    text-align: center;
}

.please-login{
    display: block;
    margin-bottom: 10px;
    text-align: center;
    font-size: 0.9em;
    color: #BB8F76;
}

a {
    color: #BB8F76;
}

a:hover, a:focus {
    color: #AF866F;
    text-decoration: none;
}

.help{
    color: #BB8F76;
    font-size: 0.9em;
}

.easy-signup {
    position: relative;
    font-size: 18px;
    color: #aaa;
    margin-top: 60px;
    margin-bottom: 10px;
    padding-top: 10px;
    padding-bottom: 10px;
}

.span-easy {
    display: block;
    position: absolute;
    left: 45%;
    top: -2px;
    margin-left: -25px;
    background-color: #fff;
    width: 100px;
    font-size: 0.7em;
    text-align: center;
}

hr {
    border-top: 1px dashed #e2e2e2;
}


.alert{
    max-width: 420px;
    margin: 0 auto 20px auto;
    text-align: center;
    border: 1px solid transparent;
    border-radius: 4px;
}

</style>
{% endblock %}

{% block contents %}

<div class="row">
    <div class="main">
        <h3>{{ g.username }}님의 프로필</h3>

        <div class="essential_field">
            <h4>필수 입력사항</h4>
            <hr>
        </div>

        
        <form role="form" action="{{ upload_uri }}" enctype="multipart/form-data" method="POST">
            <div class="row">
                <div class="form-group col-xs-2 col-sm-2 col-md-2">
                    <label for="inputFile">프로필 사진</label>
                    <input type="file" name="profile_image" id="inputFile">
                    <p class="help-message">멋진 프로필 사진을 등록해보세요~</p>
                </div>

                <div class="form-group col-xs-2 col-sm-2 col-md-2">
                    <label for="inputCategory">전공분야</label>
                    <select class="form-control" name="category" id="inputCategory">
                        <option value="none">선택하세요</option>
                        {% for e in category %}
                        <option value="{{ e.id }}">{{ e.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group col-xs-2 col-sm-2 col-md-2">
                    <label for="inputMajor">세부전공</label>
                    <select class="form-control" name="major" id="inputMajor">
                        <option value="none">선택하세요</option>
                        {% for m in major %}
                        {% if m.category_id == 1 %}
                        <option class="classic-major" value="{{ m.id }}">{{ m.name }}</option>
                        {% endif %}
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-xs-12 col-sm-12 col-md-12">
                    <label for="inputPhrase">100자 메시지</label>
                    {{ form.phrase(class="form-control", id="inputPhrase", placeholder="ex) 초견 짱 좋은 피아니스트에요.") }}
                </div>
            </div>

            <div class="additional">
                <h4>추가 입력사항</h4>
                <hr>
            </div>

            <div class="row">
                <div class="col-xs-2 col-sm-2 col-md-2 subtitle">학력사항</div>
                <div class="form-group col-xs-10 col-sm-10 col-md-10" id="education">
                    <p class="help-message">+ 버튼을 클릭하여 원하는 만큼 추가할 수 있습니다.</p>
                    <button type="button" id="add_education" class="btn btn-default"><i class="fa fa-plus-circle"></i></button>
                </div>
            </div>


            <button type="submit" class="btn btn-default pull-right">
                프로필 등록
            </button>

        </form>

    </div>
</div>

<script type="text/javascript">
$(document).ready(function(){
    $("#add_education").click(function(){
        $("#education").append('{{ form.education(class="form-control") }}');
        console.log("successfully added a new field for education!")
    });

});
</script>
{% endblock %}